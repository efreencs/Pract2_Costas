{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.email = '';\n    this.password = '';\n    this.errorMessage = '';\n    this.loading = false;\n  }\n  login() {\n    if (!this.email || !this.password) {\n      this.errorMessage = 'Tots els camps són obligatoris';\n      return;\n    }\n    this.loading = true;\n    this.authService.login(this.email, this.password).subscribe(response => {\n      this.loading = false;\n      // Guardar el token\n      localStorage.setItem('token', response.token);\n      // Redirigir a home\n      this.router.navigate(['/home']);\n    }, error => {\n      this.loading = false;\n      this.errorMessage = error.error.message || 'Error en el login';\n    });\n  }\n  registerLink() {\n    this.router.navigate(['/register']);\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","LoginComponent","constructor","authService","router","email","password","errorMessage","loading","login","subscribe","response","localStorage","setItem","token","navigate","error","message","registerLink","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\efren\\OneDrive\\Escriptori\\Enginyeria de llocs web\\Pract2_Costas\\frontend\\src\\app\\components\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@services/AuthService';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  email: string = '';\r\n  password: string = '';\r\n  errorMessage: string = '';\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  login() {\r\n    if (!this.email || !this.password) {\r\n      this.errorMessage = 'Tots els camps són obligatoris';\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.authService.login(this.email, this.password).subscribe(\r\n      (response: any) => {\r\n        this.loading = false;\r\n        // Guardar el token\r\n        localStorage.setItem('token', response.token);\r\n        // Redirigir a home\r\n        this.router.navigate(['/home']);\r\n      },\r\n      (error: any) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.error.message || 'Error en el login';\r\n      }\r\n    );\r\n  }\r\n\r\n  registerLink() {\r\n    this.router.navigate(['/register']);\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAMzBC,YACUC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAPhB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,OAAO,GAAY,KAAK;EAKrB;EAEHC,KAAKA,CAAA;IACH,IAAI,CAAC,IAAI,CAACJ,KAAK,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE;MACjC,IAAI,CAACC,YAAY,GAAG,gCAAgC;MACpD;;IAGF,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACL,WAAW,CAACM,KAAK,CAAC,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACI,SAAS,CACxDC,QAAa,IAAI;MAChB,IAAI,CAACH,OAAO,GAAG,KAAK;MACpB;MACAI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACG,KAAK,CAAC;MAC7C;MACA,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC,EACAC,KAAU,IAAI;MACb,IAAI,CAACR,OAAO,GAAG,KAAK;MACpB,IAAI,CAACD,YAAY,GAAGS,KAAK,CAACA,KAAK,CAACC,OAAO,IAAI,mBAAmB;IAChE,CAAC,CACF;EACH;EAEAC,YAAYA,CAAA;IACV,IAAI,CAACd,MAAM,CAACW,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;CACD;AApCYd,cAAc,GAAAkB,UAAA,EAL1BnB,SAAS,CAAC;EACToB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWrB,cAAc,CAoC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}