{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RegisterComponent = class RegisterComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.name = '';\n    this.email = '';\n    this.password = '';\n    this.confirmPassword = '';\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.loading = false;\n  }\n  register() {\n    // Validar camps buits\n    if (!this.name || !this.email || !this.password || !this.confirmPassword) {\n      this.errorMessage = 'Tots els camps són obligatoris';\n      return;\n    }\n    // Validar que les contrasenyes coincideixen\n    if (this.password !== this.confirmPassword) {\n      this.errorMessage = 'Les contrasenyes no coincideixen';\n      return;\n    }\n    // Validar longitud de contrasenya\n    if (this.password.length < 6) {\n      this.errorMessage = 'La contrasenya ha de tenir almenys 6 caràcters';\n      return;\n    }\n    this.loading = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n    const newUser = {\n      name: this.name,\n      email: this.email,\n      password: this.password\n    };\n    this.authService.register(newUser).subscribe(response => {\n      this.loading = false;\n      this.successMessage = 'Registre exitós! Redirigint al login...';\n      setTimeout(() => {\n        this.router.navigate(['/login']);\n      }, 2000);\n    }, error => {\n      this.loading = false;\n      this.errorMessage = error.error.message || 'Error en el registre';\n    });\n  }\n  loginLink() {\n    this.router.navigate(['/login']);\n  }\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})], RegisterComponent);\nexport { RegisterComponent };","map":{"version":3,"names":["Component","RegisterComponent","constructor","authService","router","name","email","password","confirmPassword","errorMessage","successMessage","loading","register","length","newUser","subscribe","response","setTimeout","navigate","error","message","loginLink","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\efren\\OneDrive\\Escriptori\\Enginyeria de llocs web\\Pract2_Costas\\frontend\\src\\app\\components\\register\\register.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@services/AuthService';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent {\r\n  name: string = '';\r\n  email: string = '';\r\n  password: string = '';\r\n  confirmPassword: string = '';\r\n  errorMessage: string = '';\r\n  successMessage: string = '';\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  register() {\r\n    // Validar camps buits\r\n    if (!this.name || !this.email || !this.password || !this.confirmPassword) {\r\n      this.errorMessage = 'Tots els camps són obligatoris';\r\n      return;\r\n    }\r\n\r\n    // Validar que les contrasenyes coincideixen\r\n    if (this.password !== this.confirmPassword) {\r\n      this.errorMessage = 'Les contrasenyes no coincideixen';\r\n      return;\r\n    }\r\n\r\n    // Validar longitud de contrasenya\r\n    if (this.password.length < 6) {\r\n      this.errorMessage = 'La contrasenya ha de tenir almenys 6 caràcters';\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    const newUser = {\r\n      name: this.name,\r\n      email: this.email,\r\n      password: this.password\r\n    };\r\n\r\n    this.authService.register(newUser).subscribe(\r\n      (response: any) => {\r\n        this.loading = false;\r\n        this.successMessage = 'Registre exitós! Redirigint al login...';\r\n        setTimeout(() => {\r\n          this.router.navigate(['/login']);\r\n        }, 2000);\r\n      },\r\n      (error: any) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.error.message || 'Error en el registre';\r\n      }\r\n    );\r\n  }\r\n\r\n  loginLink() {\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAS5BC,YACUC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAVhB,KAAAC,IAAI,GAAW,EAAE;IACjB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,eAAe,GAAW,EAAE;IAC5B,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAC,OAAO,GAAY,KAAK;EAKrB;EAEHC,QAAQA,CAAA;IACN;IACA,IAAI,CAAC,IAAI,CAACP,IAAI,IAAI,CAAC,IAAI,CAACC,KAAK,IAAI,CAAC,IAAI,CAACC,QAAQ,IAAI,CAAC,IAAI,CAACC,eAAe,EAAE;MACxE,IAAI,CAACC,YAAY,GAAG,gCAAgC;MACpD;;IAGF;IACA,IAAI,IAAI,CAACF,QAAQ,KAAK,IAAI,CAACC,eAAe,EAAE;MAC1C,IAAI,CAACC,YAAY,GAAG,kCAAkC;MACtD;;IAGF;IACA,IAAI,IAAI,CAACF,QAAQ,CAACM,MAAM,GAAG,CAAC,EAAE;MAC5B,IAAI,CAACJ,YAAY,GAAG,gDAAgD;MACpE;;IAGF,IAAI,CAACE,OAAO,GAAG,IAAI;IACnB,IAAI,CAACF,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,cAAc,GAAG,EAAE;IAExB,MAAMI,OAAO,GAAG;MACdT,IAAI,EAAE,IAAI,CAACA,IAAI;MACfC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,QAAQ,EAAE,IAAI,CAACA;KAChB;IAED,IAAI,CAACJ,WAAW,CAACS,QAAQ,CAACE,OAAO,CAAC,CAACC,SAAS,CACzCC,QAAa,IAAI;MAChB,IAAI,CAACL,OAAO,GAAG,KAAK;MACpB,IAAI,CAACD,cAAc,GAAG,yCAAyC;MAC/DO,UAAU,CAAC,MAAK;QACd,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAClC,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,EACAC,KAAU,IAAI;MACb,IAAI,CAACR,OAAO,GAAG,KAAK;MACpB,IAAI,CAACF,YAAY,GAAGU,KAAK,CAACA,KAAK,CAACC,OAAO,IAAI,sBAAsB;IACnE,CAAC,CACF;EACH;EAEAC,SAASA,CAAA;IACP,IAAI,CAACjB,MAAM,CAACc,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;CACD;AA7DYjB,iBAAiB,GAAAqB,UAAA,EAL7BtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACWxB,iBAAiB,CA6D7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}