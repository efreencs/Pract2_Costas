{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/LoanService\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = a0 => ({\n  \"returned\": a0\n});\nfunction MyLoansComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 8);\n    i0.…µ…µtext(1, \" Carregant pr\\u00E9stecs... \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction MyLoansComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 9)(1, \"p\");\n    i0.…µ…µtext(2, \"No tens cap pr\\u00E9stec actiu\");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction MyLoansComponent_div_8_div_2_button_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 24);\n    i0.…µ…µlistener(\"click\", function MyLoansComponent_div_8_div_2_button_34_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r1);\n      const loan_r2 = i0.…µ…µnextContext().$implicit;\n      const ctx_r2 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r2.returnLoan(loan_r2._id));\n    });\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext(3);\n    i0.…µ…µproperty(\"disabled\", ctx_r2.isReturning);\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r2.isReturning ? \"Retornant...\" : \"Retornar Llibre\", \" \");\n  }\n}\nfunction MyLoansComponent_div_8_div_2_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 25);\n    i0.…µ…µtext(1);\n    i0.…µ…µpipe(2, \"date\");\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r2 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \\u2705 Retornat el \", i0.…µ…µpipeBind2(2, 1, loan_r2.dataRetornaReal, \"dd/MM/yyyy\"), \" \");\n  }\n}\nfunction MyLoansComponent_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15);\n    i0.…µ…µtext(3, \"\\uD83D\\uDCDA\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"h3\");\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"div\", 16)(7, \"div\", 17)(8, \"span\", 18);\n    i0.…µ…µtext(9, \"Autor:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"span\", 19);\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(12, \"div\", 17)(13, \"span\", 18);\n    i0.…µ…µtext(14, \"Biblioteca:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(15, \"span\", 19);\n    i0.…µ…µtext(16);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(17, \"div\", 17)(18, \"span\", 18);\n    i0.…µ…µtext(19, \"Data de Pr\\u00E9stec:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(20, \"span\", 19);\n    i0.…µ…µtext(21);\n    i0.…µ…µpipe(22, \"date\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(23, \"div\", 17)(24, \"span\", 18);\n    i0.…µ…µtext(25, \"Data de Devoluci\\u00F3:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(26, \"span\", 20);\n    i0.…µ…µtext(27);\n    i0.…µ…µpipe(28, \"date\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(29, \"div\", 17)(30, \"span\", 18);\n    i0.…µ…µtext(31, \"Estat:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(32, \"span\", 21);\n    i0.…µ…µtext(33);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µtemplate(34, MyLoansComponent_div_8_div_2_button_34_Template, 2, 2, \"button\", 22)(35, MyLoansComponent_div_8_div_2_div_35_Template, 3, 4, \"div\", 23);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r2 = ctx.$implicit;\n    const ctx_r2 = i0.…µ…µnextContext(2);\n    i0.…µ…µproperty(\"ngClass\", i0.…µ…µpureFunction1(17, _c0, loan_r2.estat === \"RETORNAT\"));\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(loan_r2.llibre == null ? null : loan_r2.llibre.titol);\n    i0.…µ…µadvance(6);\n    i0.…µ…µtextInterpolate(loan_r2.llibre == null ? null : loan_r2.llibre.autor);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(loan_r2.biblioteca == null ? null : loan_r2.biblioteca.nom);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(i0.…µ…µpipeBind2(22, 11, loan_r2.dataPrestec, \"dd/MM/yyyy\"));\n    i0.…µ…µadvance(5);\n    i0.…µ…µproperty(\"ngClass\", ctx_r2.isOverdue(loan_r2) ? \"overdue\" : \"\");\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", i0.…µ…µpipeBind2(28, 14, loan_r2.dataRetornaPrevista, \"dd/MM/yyyy\"), \" \");\n    i0.…µ…µadvance(5);\n    i0.…µ…µproperty(\"ngClass\", loan_r2.estat);\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", loan_r2.estat, \" \");\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", loan_r2.estat === \"ACTIU\");\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", loan_r2.estat === \"RETORNAT\");\n  }\n}\nfunction MyLoansComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.…µ…µtemplate(2, MyLoansComponent_div_8_div_2_Template, 36, 19, \"div\", 12);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r2.loans);\n  }\n}\nfunction MyLoansComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 26);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r2.successMessage, \" \");\n  }\n}\nfunction MyLoansComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 27);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r2.errorMessage, \" \");\n  }\n}\nexport class MyLoansComponent {\n  constructor(loanService, router) {\n    this.loanService = loanService;\n    this.router = router;\n    this.loans = [];\n    this.loading = true;\n    this.isReturning = false;\n    this.errorMessage = '';\n    this.successMessage = '';\n  }\n  ngOnInit() {\n    this.loadLoans();\n  }\n  loadLoans() {\n    this.loanService.getMyLoansUser().subscribe(response => {\n      this.loans = response || [];\n      this.loading = false;\n    }, error => {\n      console.log('Error carregant pr√©stecs', error);\n      this.errorMessage = error.error?.message || 'Error carregant els pr√©stecs';\n      this.loading = false;\n    });\n  }\n  returnLoan(loanId) {\n    this.isReturning = true;\n    this.errorMessage = '';\n    this.loanService.returnLoan(loanId).subscribe({\n      next: response => {\n        this.isReturning = false;\n        this.successMessage = 'Llibre retornat correctament!';\n        // Treure el pr√©stec de la llista\n        this.loans = this.loans.filter(l => l._id !== loanId);\n        setTimeout(() => {\n          this.successMessage = '';\n        }, 3000);\n      },\n      error: error => {\n        this.isReturning = false;\n        this.errorMessage = error.error?.message || 'Error retornant el llibre';\n      }\n    });\n  }\n  isOverdue(loan) {\n    const returnDate = new Date(loan.dataRetornaPrevista);\n    const today = new Date();\n    return returnDate < today && loan.estat !== 'RETORNAT';\n  }\n  goHome() {\n    this.router.navigate(['/home']);\n  }\n  static {\n    this.…µfac = function MyLoansComponent_Factory(t) {\n      return new (t || MyLoansComponent)(i0.…µ…µdirectiveInject(i1.LoanService), i0.…µ…µdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: MyLoansComponent,\n      selectors: [[\"app-my-loans\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"my-loans-container\"], [1, \"header\"], [1, \"btn-back\", 3, \"click\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"loans-section\", 4, \"ngIf\"], [\"class\", \"success\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"loading\"], [1, \"empty-state\"], [1, \"loans-section\"], [1, \"loans-grid\"], [\"class\", \"loan-card\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"loan-card\", 3, \"ngClass\"], [1, \"loan-header\"], [1, \"book-emoji\"], [1, \"loan-details\"], [1, \"detail-row\"], [1, \"label\"], [1, \"value\"], [1, \"value\", 3, \"ngClass\"], [1, \"status\", 3, \"ngClass\"], [\"class\", \"btn-return\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"class\", \"returned-badge\", 4, \"ngIf\"], [1, \"btn-return\", 3, \"click\", \"disabled\"], [1, \"returned-badge\"], [1, \"success\"], [1, \"error\"]],\n      template: function MyLoansComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.…µ…µtext(3, \"Els Meus Pr\\u00E9stecs\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(4, \"button\", 2);\n          i0.…µ…µlistener(\"click\", function MyLoansComponent_Template_button_click_4_listener() {\n            return ctx.goHome();\n          });\n          i0.…µ…µtext(5, \"Tornar al Home\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µtemplate(6, MyLoansComponent_div_6_Template, 2, 0, \"div\", 3)(7, MyLoansComponent_div_7_Template, 3, 0, \"div\", 4)(8, MyLoansComponent_div_8_Template, 3, 1, \"div\", 5)(9, MyLoansComponent_div_9_Template, 2, 1, \"div\", 6)(10, MyLoansComponent_div_10_Template, 2, 1, \"div\", 7);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(6);\n          i0.…µ…µproperty(\"ngIf\", ctx.loading);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.loans.length === 0);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.loans.length > 0);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.successMessage);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.errorMessage);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe],\n      styles: [\".my-loans-container[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 30px;\\n  padding-bottom: 20px;\\n  border-bottom: 2px solid #e0e0e0;\\n}\\n\\n.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #333;\\n  font-size: 2rem;\\n}\\n\\n.btn-back[_ngcontent-%COMP%] {\\n  padding: 10px 20px;\\n  background: #667eea;\\n  color: white;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: all 0.3s;\\n}\\n\\n.btn-back[_ngcontent-%COMP%]:hover {\\n  background: #5568d3;\\n  transform: translateY(-2px);\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px;\\n  font-size: 1.1rem;\\n  color: #666;\\n}\\n\\n.empty-state[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px 20px;\\n  background: #f5f5f5;\\n  border-radius: 10px;\\n  color: #999;\\n  font-size: 1.1rem;\\n}\\n\\n.loans-section[_ngcontent-%COMP%] {\\n  margin-bottom: 30px;\\n}\\n\\n.loans-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\\n  gap: 20px;\\n}\\n\\n.loan-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border: 1px solid #e0e0e0;\\n  border-radius: 10px;\\n  padding: 20px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s;\\n}\\n\\n.loan-card[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);\\n  transform: translateY(-2px);\\n}\\n\\n.loan-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  margin-bottom: 15px;\\n  padding-bottom: 15px;\\n  border-bottom: 1px solid #f0f0f0;\\n}\\n\\n.loan-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #333;\\n  font-size: 1.1rem;\\n  flex: 1;\\n}\\n\\n.loan-id[_ngcontent-%COMP%] {\\n  font-size: 0.8rem;\\n  color: #999;\\n  background: #f5f5f5;\\n  padding: 4px 8px;\\n  border-radius: 3px;\\n  white-space: nowrap;\\n  margin-left: 10px;\\n}\\n\\n.loan-details[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\n.detail-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 8px 0;\\n  font-size: 0.95rem;\\n  border-bottom: 1px solid #f9f9f9;\\n}\\n\\n.label[_ngcontent-%COMP%] {\\n  color: #666;\\n  font-weight: 500;\\n}\\n\\n.value[_ngcontent-%COMP%] {\\n  color: #333;\\n  font-weight: 500;\\n}\\n\\n.value.overdue[_ngcontent-%COMP%] {\\n  color: #e74c3c;\\n  font-weight: 600;\\n}\\n\\n.status[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 0.85rem;\\n  font-weight: 600;\\n  text-transform: capitalize;\\n}\\n\\n.status.ACTIU[_ngcontent-%COMP%] {\\n  background: #d4edda;\\n  color: #155724;\\n}\\n\\n.status.RETORNAT[_ngcontent-%COMP%] {\\n  background: #d1ecf1;\\n  color: #0c5460;\\n}\\n\\n.status.ENDARRERIT[_ngcontent-%COMP%] {\\n  background: #f8d7da;\\n  color: #721c24;\\n}\\n\\n.loan-card.returned[_ngcontent-%COMP%] {\\n  opacity: 0.7;\\n  background: #f9f9f9;\\n}\\n\\n.returned-badge[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 10px;\\n  background: #d4edda;\\n  color: #155724;\\n  border-radius: 5px;\\n  margin-top: 10px;\\n  font-weight: 500;\\n}\\n\\n.book-emoji[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  margin-right: 10px;\\n}\\n\\n.success[_ngcontent-%COMP%] {\\n  background: #d4edda;\\n  color: #155724;\\n  padding: 15px;\\n  border-radius: 5px;\\n  border: 1px solid #c3e6cb;\\n  margin-top: 20px;\\n}\\n\\n.btn-return[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  background: #27ae60;\\n  color: white;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: background-color 0.2s ease;\\n  margin-top: 10px;\\n  min-height: 42px;\\n}\\n\\n.btn-return[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background: #229954;\\n}\\n\\n.btn-return[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.6;\\n  cursor: not-allowed;\\n}\\n\\n.btn-return[_ngcontent-%COMP%]:active:not(:disabled) {\\n  background: #1e8449;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  background: #f8d7da;\\n  color: #721c24;\\n  padding: 15px;\\n  border-radius: 5px;\\n  border: 1px solid #f5c6cb;\\n  margin-top: 20px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9teS1sb2Fucy9teS1sb2Fucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsb0JBQW9CO0VBQ3BCLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLFNBQVM7RUFDVCxXQUFXO0VBQ1gsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsNERBQTREO0VBQzVELFNBQVM7QUFDWDs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYix3Q0FBd0M7RUFDeEMsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsMENBQTBDO0VBQzFDLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsU0FBUztFQUNULFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsT0FBTztBQUNUOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLFdBQVc7RUFDWCxtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztFQUNkLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsc0NBQXNDO0VBQ3RDLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixnQkFBZ0I7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIubXktbG9hbnMtY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDEyMDBweDtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBwYWRkaW5nOiAyMHB4O1xyXG59XHJcblxyXG4uaGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlMGUwZTA7XHJcbn1cclxuXHJcbi5oZWFkZXIgaDEge1xyXG4gIG1hcmdpbjogMDtcclxuICBjb2xvcjogIzMzMztcclxuICBmb250LXNpemU6IDJyZW07XHJcbn1cclxuXHJcbi5idG4tYmFjayB7XHJcbiAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gIGJhY2tncm91bmQ6ICM2NjdlZWE7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbn1cclxuXHJcbi5idG4tYmFjazpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogIzU1NjhkMztcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbn1cclxuXHJcbi5sb2FkaW5nIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNDBweDtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxuICBjb2xvcjogIzY2NjtcclxufVxyXG5cclxuLmVtcHR5LXN0YXRlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNjBweCAyMHB4O1xyXG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBjb2xvcjogIzk5OTtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxufVxyXG5cclxuLmxvYW5zLXNlY3Rpb24ge1xyXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbn1cclxuXHJcbi5sb2Fucy1ncmlkIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDM1MHB4LCAxZnIpKTtcclxuICBnYXA6IDIwcHg7XHJcbn1cclxuXHJcbi5sb2FuLWNhcmQge1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbn1cclxuXHJcbi5sb2FuLWNhcmQ6aG92ZXIge1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbn1cclxuXHJcbi5sb2FuLWhlYWRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZjBmMDtcclxufVxyXG5cclxuLmxvYW4taGVhZGVyIGgzIHtcclxuICBtYXJnaW46IDA7XHJcbiAgY29sb3I6ICMzMzM7XHJcbiAgZm9udC1zaXplOiAxLjFyZW07XHJcbiAgZmxleDogMTtcclxufVxyXG5cclxuLmxvYW4taWQge1xyXG4gIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gIGNvbG9yOiAjOTk5O1xyXG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbiAgcGFkZGluZzogNHB4IDhweDtcclxuICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBtYXJnaW4tbGVmdDogMTBweDtcclxufVxyXG5cclxuLmxvYW4tZGV0YWlscyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG5cclxuLmRldGFpbC1yb3cge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIHBhZGRpbmc6IDhweCAwO1xyXG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Y5ZjlmOTtcclxufVxyXG5cclxuLmxhYmVsIHtcclxuICBjb2xvcjogIzY2NjtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4udmFsdWUge1xyXG4gIGNvbG9yOiAjMzMzO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi52YWx1ZS5vdmVyZHVlIHtcclxuICBjb2xvcjogI2U3NGMzYztcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4uc3RhdHVzIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgcGFkZGluZzogNHB4IDEycHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBmb250LXNpemU6IDAuODVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxufVxyXG5cclxuLnN0YXR1cy5BQ1RJVSB7XHJcbiAgYmFja2dyb3VuZDogI2Q0ZWRkYTtcclxuICBjb2xvcjogIzE1NTcyNDtcclxufVxyXG5cclxuLnN0YXR1cy5SRVRPUk5BVCB7XHJcbiAgYmFja2dyb3VuZDogI2QxZWNmMTtcclxuICBjb2xvcjogIzBjNTQ2MDtcclxufVxyXG5cclxuLnN0YXR1cy5FTkRBUlJFUklUIHtcclxuICBiYWNrZ3JvdW5kOiAjZjhkN2RhO1xyXG4gIGNvbG9yOiAjNzIxYzI0O1xyXG59XHJcblxyXG4ubG9hbi1jYXJkLnJldHVybmVkIHtcclxuICBvcGFjaXR5OiAwLjc7XHJcbiAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcclxufVxyXG5cclxuLnJldHVybmVkLWJhZGdlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBiYWNrZ3JvdW5kOiAjZDRlZGRhO1xyXG4gIGNvbG9yOiAjMTU1NzI0O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5ib29rLWVtb2ppIHtcclxuICBmb250LXNpemU6IDJyZW07XHJcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4uc3VjY2VzcyB7XHJcbiAgYmFja2dyb3VuZDogI2Q0ZWRkYTtcclxuICBjb2xvcjogIzE1NTcyNDtcclxuICBwYWRkaW5nOiAxNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjYzNlNmNiO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5idG4tcmV0dXJuIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJhY2tncm91bmQ6ICMyN2FlNjA7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2U7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxuICBtaW4taGVpZ2h0OiA0MnB4O1xyXG59XHJcblxyXG4uYnRuLXJldHVybjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XHJcbiAgYmFja2dyb3VuZDogIzIyOTk1NDtcclxufVxyXG5cclxuLmJ0bi1yZXR1cm46ZGlzYWJsZWQge1xyXG4gIG9wYWNpdHk6IDAuNjtcclxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG59XHJcblxyXG4uYnRuLXJldHVybjphY3RpdmU6bm90KDpkaXNhYmxlZCkge1xyXG4gIGJhY2tncm91bmQ6ICMxZTg0NDk7XHJcbn1cclxuXHJcbi5lcnJvciB7XHJcbiAgYmFja2dyb3VuZDogI2Y4ZDdkYTtcclxuICBjb2xvcjogIzcyMWMyNDtcclxuICBwYWRkaW5nOiAxNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZjVjNmNiO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","MyLoansComponent_div_8_div_2_button_34_Template_button_click_0_listener","…µ…µrestoreView","_r1","loan_r2","…µ…µnextContext","$implicit","ctx_r2","…µ…µresetView","returnLoan","_id","…µ…µproperty","isReturning","…µ…µadvance","…µ…µtextInterpolate1","…µ…µpipeBind2","dataRetornaReal","…µ…µtemplate","MyLoansComponent_div_8_div_2_button_34_Template","MyLoansComponent_div_8_div_2_div_35_Template","…µ…µpureFunction1","_c0","estat","…µ…µtextInterpolate","llibre","titol","autor","biblioteca","nom","dataPrestec","isOverdue","dataRetornaPrevista","MyLoansComponent_div_8_div_2_Template","loans","successMessage","errorMessage","MyLoansComponent","constructor","loanService","router","loading","ngOnInit","loadLoans","getMyLoansUser","subscribe","response","error","console","log","message","loanId","next","filter","l","setTimeout","loan","returnDate","Date","today","goHome","navigate","…µ…µdirectiveInject","i1","LoanService","i2","Router","selectors","decls","vars","consts","template","MyLoansComponent_Template","rf","ctx","MyLoansComponent_Template_button_click_4_listener","MyLoansComponent_div_6_Template","MyLoansComponent_div_7_Template","MyLoansComponent_div_8_Template","MyLoansComponent_div_9_Template","MyLoansComponent_div_10_Template","length"],"sources":["C:\\Users\\efren\\OneDrive\\Escriptori\\Enginyeria de llocs web\\Pract2_Costas\\frontend\\src\\app\\components\\my-loans\\my-loans.component.ts","C:\\Users\\efren\\OneDrive\\Escriptori\\Enginyeria de llocs web\\Pract2_Costas\\frontend\\src\\app\\components\\my-loans\\my-loans.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoanService } from '@services/LoanService';\r\n\r\n@Component({\r\n  selector: 'app-my-loans',\r\n  templateUrl: './my-loans.component.html',\r\n  styleUrls: ['./my-loans.component.css']\r\n})\r\nexport class MyLoansComponent implements OnInit {\r\n  loans: any[] = [];\r\n  loading: boolean = true;\r\n  isReturning: boolean = false;\r\n  errorMessage: string = '';\r\n  successMessage: string = '';\r\n\r\n  constructor(\r\n    private loanService: LoanService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadLoans();\r\n  }\r\n\r\n  loadLoans(): void {\r\n    this.loanService.getMyLoansUser().subscribe(\r\n      (response: any) => {\r\n        this.loans = response || [];\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant pr√©stecs', error);\r\n        this.errorMessage = error.error?.message || 'Error carregant els pr√©stecs';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  returnLoan(loanId: string): void {\r\n    this.isReturning = true;\r\n    this.errorMessage = '';\r\n    this.loanService.returnLoan(loanId).subscribe({\r\n      next: (response: any) => {\r\n        this.isReturning = false;\r\n        this.successMessage = 'Llibre retornat correctament!';\r\n        // Treure el pr√©stec de la llista\r\n        this.loans = this.loans.filter(l => l._id !== loanId);\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 3000);\r\n      },\r\n      error: (error: any) => {\r\n        this.isReturning = false;\r\n        this.errorMessage = error.error?.message || 'Error retornant el llibre';\r\n      }\r\n    });\r\n  }\r\n\r\n  isOverdue(loan: any): boolean {\r\n    const returnDate = new Date(loan.dataRetornaPrevista);\r\n    const today = new Date();\r\n    return returnDate < today && loan.estat !== 'RETORNAT';\r\n  }\r\n\r\n  goHome(): void {\r\n    this.router.navigate(['/home']);\r\n  }\r\n}\r\n","<div class=\"my-loans-container\">\r\n  <div class=\"header\">\r\n    <h1>Els Meus Pr√©stecs</h1>\r\n    <button class=\"btn-back\" (click)=\"goHome()\">Tornar al Home</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\" class=\"loading\">\r\n    Carregant pr√©stecs...\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && loans.length === 0\" class=\"empty-state\">\r\n    <p>No tens cap pr√©stec actiu</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && loans.length > 0\" class=\"loans-section\">\r\n    <div class=\"loans-grid\">\r\n      <div *ngFor=\"let loan of loans\" class=\"loan-card\" [ngClass]=\"{'returned': loan.estat === 'RETORNAT'}\">\r\n        <div class=\"loan-header\">\r\n          <div class=\"book-emoji\">üìö</div>\r\n          <h3>{{ loan.llibre?.titol }}</h3>\r\n        </div>\r\n\r\n        <div class=\"loan-details\">\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Autor:</span>\r\n            <span class=\"value\">{{ loan.llibre?.autor }}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Biblioteca:</span>\r\n            <span class=\"value\">{{ loan.biblioteca?.nom }}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Data de Pr√©stec:</span>\r\n            <span class=\"value\">{{ loan.dataPrestec | date: 'dd/MM/yyyy' }}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Data de Devoluci√≥:</span>\r\n            <span class=\"value\" [ngClass]=\"isOverdue(loan) ? 'overdue' : ''\">\r\n              {{ loan.dataRetornaPrevista | date: 'dd/MM/yyyy' }}\r\n            </span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Estat:</span>\r\n            <span class=\"status\" [ngClass]=\"loan.estat\">\r\n              {{ loan.estat }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <button \r\n          *ngIf=\"loan.estat === 'ACTIU'\"\r\n          class=\"btn-return\" \r\n          (click)=\"returnLoan(loan._id)\" \r\n          [disabled]=\"isReturning\">\r\n          {{ isReturning ? 'Retornant...' : 'Retornar Llibre' }}\r\n        </button>\r\n        <div *ngIf=\"loan.estat === 'RETORNAT'\" class=\"returned-badge\">\r\n          ‚úÖ Retornat el {{ loan.dataRetornaReal | date: 'dd/MM/yyyy' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"successMessage\" class=\"success\">\r\n    {{ successMessage }}\r\n  </div>\r\n\r\n  <div *ngIf=\"errorMessage\" class=\"error\">\r\n    {{ errorMessage }}\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}