{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/admin/admin-books/admin-books.component.ts","./src/app/components/admin/admin-books/admin-books.component.html","./src/app/components/admin/admin-loans/admin-loans.component.ts","./src/app/components/admin/admin-loans/admin-loans.component.html","./src/app/components/admin/admin-users/admin-users.component.ts","./src/app/components/admin/admin-users/admin-users.component.html","./src/app/components/books/books.component.ts","./src/app/components/books/books.component.html","./src/app/components/home/home.component.ts","./src/app/components/home/home.component.html","./src/app/components/login/login.component.ts","./src/app/components/login/login.component.html","./src/app/components/my-loans/my-loans.component.ts","./src/app/components/my-loans/my-loans.component.html","./src/app/components/profile/profile.component.ts","./src/app/components/profile/profile.component.html","./src/app/components/register/register.component.ts","./src/app/components/register/register.component.html","./src/app/interceptors/auth.interceptor.ts","./src/app/services/AuthService.ts","./src/app/services/BookService.ts","./src/app/services/LibraryService.ts","./src/app/services/LoanService.ts","./src/app/services/UserService.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// Components\r\nimport { LoginComponent } from '@components/login/login.component';\r\nimport { RegisterComponent } from '@components/register/register.component';\r\nimport { HomeComponent } from '@components/home/home.component';\r\nimport { BooksComponent } from '@components/books/books.component';\r\nimport { ProfileComponent } from '@components/profile/profile.component';\r\nimport { MyLoansComponent } from '@components/my-loans/my-loans.component';\r\nimport { AdminBooksComponent } from '@components/admin/admin-books/admin-books.component';\r\nimport { AdminUsersComponent } from '@components/admin/admin-users/admin-users.component';\r\nimport { AdminLoansComponent } from '@components/admin/admin-loans/admin-loans.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/login', pathMatch: 'full' },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'register', component: RegisterComponent },\r\n  { path: 'home', component: HomeComponent },\r\n  { path: 'books', component: BooksComponent },\r\n  { path: 'profile', component: ProfileComponent },\r\n  { path: 'my-loans', component: MyLoansComponent },\r\n  { path: 'admin/books', component: AdminBooksComponent },\r\n  { path: 'admin/users', component: AdminUsersComponent },\r\n  { path: 'admin/loans', component: AdminLoansComponent },\r\n  { path: '**', redirectTo: '/home' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@services/AuthService';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'Biblioteca - Gesti de Prstecs';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  isLoggedIn(): boolean {\r\n    return this.authService.isAuthenticated();\r\n  }\r\n\r\n  logout(): void {\r\n    this.authService.logout();\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n","<header>\r\n  <h1>{{ title }}</h1>\r\n  <nav>\r\n    <ul>\r\n      <!-- Mostrar quan NO est autenticat -->\r\n      <ng-container *ngIf=\"!isLoggedIn()\">\r\n        <li><a routerLink=\"/login\" routerLinkActive=\"active\">Login</a></li>\r\n        <li><a routerLink=\"/register\" routerLinkActive=\"active\">Registre</a></li>\r\n      </ng-container>\r\n      \r\n      <!-- Mostrar quan S est autenticat -->\r\n      <ng-container *ngIf=\"isLoggedIn()\">\r\n        <li><a routerLink=\"/home\" routerLinkActive=\"active\">Home</a></li>\r\n        <li><a routerLink=\"/books\" routerLinkActive=\"active\">Llibres</a></li>\r\n        <li><a routerLink=\"/my-loans\" routerLinkActive=\"active\">Els Meus Prstecs</a></li>\r\n        <li><a routerLink=\"/profile\" routerLinkActive=\"active\">Perfil</a></li>\r\n        <li><a (click)=\"logout()\" class=\"logout-link\">Logout</a></li>\r\n      </ng-container>\r\n    </ul>\r\n  </nav>\r\n</header>\r\n\r\n<main>\r\n  <router-outlet></router-outlet>\r\n</main>\r\n\r\n<footer>\r\n  <p>&copy; 2026 Biblioteca. Tots els drets reservats.</p>\r\n</footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { LoginComponent } from '@components/login/login.component';\r\nimport { RegisterComponent } from '@components/register/register.component';\r\nimport { HomeComponent } from '@components/home/home.component';\r\nimport { BooksComponent } from '@components/books/books.component';\r\nimport { ProfileComponent } from '@components/profile/profile.component';\r\nimport { MyLoansComponent } from '@components/my-loans/my-loans.component';\r\n\r\nimport { AuthService } from '@services/AuthService';\r\nimport { BookService } from '@services/BookService';\r\nimport { LibraryService } from '@services/LibraryService';\r\nimport { LoanService } from '@services/LoanService';\r\nimport { UserService } from '@services/UserService';\r\nimport { AuthInterceptor } from './interceptors/auth.interceptor';\r\nimport { AdminBooksComponent } from './components/admin/admin-books/admin-books.component';\r\nimport { AdminUsersComponent } from './components/admin/admin-users/admin-users.component';\r\nimport { AdminLoansComponent } from './components/admin/admin-loans/admin-loans.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    HomeComponent,\r\n    BooksComponent,\r\n    ProfileComponent,\r\n    MyLoansComponent,\r\n    AdminBooksComponent,\r\n    AdminUsersComponent,\r\n    AdminLoansComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    FormsModule\r\n  ],\r\n  providers: [\r\n    AuthService,\r\n    BookService,\r\n    LibraryService,\r\n    LoanService,\r\n    UserService,\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AuthInterceptor,\r\n      multi: true\r\n    }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BookService } from '@services/BookService';\r\n\r\n@Component({\r\n  selector: 'app-admin-books',\r\n  templateUrl: './admin-books.component.html',\r\n  styleUrl: './admin-books.component.css'\r\n})\r\nexport class AdminBooksComponent implements OnInit {\r\n  books: any[] = [];\r\n  loading: boolean = true;\r\n  showModal: boolean = false;\r\n  editingBook: any = null;\r\n  bookForm: any = {\r\n    titol: '',\r\n    autor: '',\r\n    isbn: '',\r\n    categoria: '',\r\n    any: new Date().getFullYear(),\r\n    quantitatTotal: 1,\r\n    quantitatDisponible: 1,\r\n    descripcio: ''\r\n  };\r\n  successMessage: string = '';\r\n  errorMessage: string = '';\r\n  isSaving: boolean = false;\r\n  searchTerm: string = '';\r\n\r\n  categories: string[] = [\r\n    'Ficci', 'No Ficci', 'Cincia', 'Histria', 'Tecnologia',\r\n    'Art', 'Filosofia', 'Poesia', 'Teatre', 'Novella', 'Infantil'\r\n  ];\r\n\r\n  constructor(\r\n    private bookService: BookService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadBooks();\r\n  }\r\n\r\n  loadBooks(): void {\r\n    this.bookService.getAllBooks().subscribe(\r\n      (books: any) => {\r\n        this.books = books || [];\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        this.errorMessage = 'Error carregant els llibres';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  get filteredBooks(): any[] {\r\n    if (!this.searchTerm) return this.books;\r\n    const term = this.searchTerm.toLowerCase();\r\n    return this.books.filter(book =>\r\n      book.titol?.toLowerCase().includes(term) ||\r\n      book.autor?.toLowerCase().includes(term) ||\r\n      book.isbn?.toLowerCase().includes(term)\r\n    );\r\n  }\r\n\r\n  openCreateModal(): void {\r\n    this.editingBook = null;\r\n    this.bookForm = {\r\n      titol: '',\r\n      autor: '',\r\n      isbn: '',\r\n      categoria: '',\r\n      any: new Date().getFullYear(),\r\n      quantitatTotal: 1,\r\n      quantitatDisponible: 1,\r\n      descripcio: ''\r\n    };\r\n    this.showModal = true;\r\n  }\r\n\r\n  openEditModal(book: any): void {\r\n    this.editingBook = book;\r\n    this.bookForm = { ...book };\r\n    this.showModal = true;\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.showModal = false;\r\n    this.editingBook = null;\r\n    this.errorMessage = '';\r\n  }\r\n\r\n  saveBook(): void {\r\n    if (!this.bookForm.titol || !this.bookForm.autor) {\r\n      this.errorMessage = 'El ttol i autor sn obligatoris';\r\n      return;\r\n    }\r\n\r\n    this.isSaving = true;\r\n    this.errorMessage = '';\r\n\r\n    if (this.editingBook) {\r\n      this.bookService.updateBook(this.editingBook._id, this.bookForm).subscribe(\r\n        (response: any) => {\r\n          this.isSaving = false;\r\n          this.successMessage = 'Llibre actualitzat correctament!';\r\n          this.closeModal();\r\n          this.loadBooks();\r\n          setTimeout(() => this.successMessage = '', 3000);\r\n        },\r\n        (error: any) => {\r\n          this.isSaving = false;\r\n          this.errorMessage = error.error?.message || 'Error actualitzant el llibre';\r\n        }\r\n      );\r\n    } else {\r\n      this.bookService.createBook(this.bookForm).subscribe(\r\n        (response: any) => {\r\n          this.isSaving = false;\r\n          this.successMessage = 'Llibre creat correctament!';\r\n          this.closeModal();\r\n          this.loadBooks();\r\n          setTimeout(() => this.successMessage = '', 3000);\r\n        },\r\n        (error: any) => {\r\n          this.isSaving = false;\r\n          this.errorMessage = error.error?.message || 'Error creant el llibre';\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  deleteBook(book: any): void {\r\n    if (!confirm(`Ests segur que vols eliminar \"${book.titol}\"?`)) return;\r\n\r\n    this.bookService.deleteBook(book._id).subscribe(\r\n      (response: any) => {\r\n        this.successMessage = 'Llibre eliminat correctament!';\r\n        this.loadBooks();\r\n        setTimeout(() => this.successMessage = '', 3000);\r\n      },\r\n      (error: any) => {\r\n        this.errorMessage = error.error?.message || 'Error eliminant el llibre';\r\n      }\r\n    );\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n}\r\n","<div class=\"admin-container\">\r\n  <div class=\"admin-header\">\r\n    <div class=\"header-content\">\r\n      <button class=\"btn-back\" (click)=\"goBack()\"> Tornar</button>\r\n      <h1> Gesti de Llibres</h1>\r\n      <button class=\"btn-add\" (click)=\"openCreateModal()\">+ Afegir Llibre</button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Messages -->\r\n  <div *ngIf=\"successMessage\" class=\"toast success\"> {{ successMessage }}</div>\r\n  <div *ngIf=\"errorMessage && !showModal\" class=\"toast error\"> {{ errorMessage }}</div>\r\n\r\n  <div class=\"content\">\r\n    <!-- Search -->\r\n    <div class=\"search-bar\">\r\n      <input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\" Cercar per ttol, autor o ISBN...\">\r\n      <span class=\"count\">{{ filteredBooks.length }} llibres</span>\r\n    </div>\r\n\r\n    <!-- Loading -->\r\n    <div *ngIf=\"loading\" class=\"loading\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Carregant llibres...</p>\r\n    </div>\r\n\r\n    <!-- Table -->\r\n    <div *ngIf=\"!loading\" class=\"table-container\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Ttol</th>\r\n            <th>Autor</th>\r\n            <th>ISBN</th>\r\n            <th>Categoria</th>\r\n            <th>Any</th>\r\n            <th>Disponibles</th>\r\n            <th>Accions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let book of filteredBooks\">\r\n            <td class=\"title-cell\">{{ book.titol }}</td>\r\n            <td>{{ book.autor }}</td>\r\n            <td class=\"isbn-cell\">{{ book.isbn }}</td>\r\n            <td><span class=\"category-badge\">{{ book.categoria }}</span></td>\r\n            <td>{{ book.any }}</td>\r\n            <td>\r\n              <span class=\"availability\" [class.low]=\"book.quantitatDisponible < 2\">\r\n                {{ book.quantitatDisponible }}/{{ book.quantitatTotal }}\r\n              </span>\r\n            </td>\r\n            <td class=\"actions-cell\">\r\n              <button class=\"btn-edit\" (click)=\"openEditModal(book)\"></button>\r\n              <button class=\"btn-delete\" (click)=\"deleteBook(book)\"></button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div *ngIf=\"filteredBooks.length === 0\" class=\"no-results\">\r\n        No s'han trobat llibres\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal -->\r\n  <div *ngIf=\"showModal\" class=\"modal-overlay\" (click)=\"closeModal()\">\r\n    <div class=\"modal\" (click)=\"$event.stopPropagation()\">\r\n      <div class=\"modal-header\">\r\n        <h2>{{ editingBook ? ' Editar Llibre' : ' Nou Llibre' }}</h2>\r\n        <button class=\"btn-close\" (click)=\"closeModal()\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div *ngIf=\"errorMessage\" class=\"modal-error\">{{ errorMessage }}</div>\r\n        \r\n        <div class=\"form-row\">\r\n          <div class=\"form-group\">\r\n            <label>Ttol *</label>\r\n            <input type=\"text\" [(ngModel)]=\"bookForm.titol\" placeholder=\"Ttol del llibre\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Autor *</label>\r\n            <input type=\"text\" [(ngModel)]=\"bookForm.autor\" placeholder=\"Autor del llibre\">\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n          <div class=\"form-group\">\r\n            <label>ISBN</label>\r\n            <input type=\"text\" [(ngModel)]=\"bookForm.isbn\" placeholder=\"ISBN\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Categoria</label>\r\n            <select [(ngModel)]=\"bookForm.categoria\">\r\n              <option value=\"\">Selecciona categoria</option>\r\n              <option *ngFor=\"let cat of categories\" [value]=\"cat\">{{ cat }}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n          <div class=\"form-group\">\r\n            <label>Any</label>\r\n            <input type=\"number\" [(ngModel)]=\"bookForm.any\" min=\"1000\" max=\"2030\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Quantitat Total</label>\r\n            <input type=\"number\" [(ngModel)]=\"bookForm.quantitatTotal\" min=\"1\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Quantitat Disponible</label>\r\n            <input type=\"number\" [(ngModel)]=\"bookForm.quantitatDisponible\" min=\"0\">\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group full\">\r\n          <label>Descripci</label>\r\n          <textarea [(ngModel)]=\"bookForm.descripcio\" rows=\"3\" placeholder=\"Descripci del llibre...\"></textarea>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button class=\"btn-cancel\" (click)=\"closeModal()\" [disabled]=\"isSaving\">Cancellar</button>\r\n        <button class=\"btn-save\" (click)=\"saveBook()\" [disabled]=\"isSaving\">\r\n          {{ isSaving ? 'Guardant...' : (editingBook ? 'Actualitzar' : 'Crear') }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoanService } from '@services/LoanService';\r\n\r\n@Component({\r\n  selector: 'app-admin-loans',\r\n  templateUrl: './admin-loans.component.html',\r\n  styleUrl: './admin-loans.component.css'\r\n})\r\nexport class AdminLoansComponent implements OnInit {\r\n  loans: any[] = [];\r\n  loading: boolean = true;\r\n  searchTerm: string = '';\r\n  filterStatus: string = 'all';\r\n  successMessage: string = '';\r\n  errorMessage: string = '';\r\n\r\n  constructor(\r\n    private loanService: LoanService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadLoans();\r\n  }\r\n\r\n  loadLoans(): void {\r\n    this.loanService.getAllLoans().subscribe(\r\n      (loans: any) => {\r\n        this.loans = loans || [];\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        this.errorMessage = 'Error carregant els prstecs';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  get filteredLoans(): any[] {\r\n    let result = this.loans;\r\n    \r\n    // Filter by status\r\n    if (this.filterStatus !== 'all') {\r\n      result = result.filter(loan => loan.estat === this.filterStatus);\r\n    }\r\n    \r\n    // Filter by search term\r\n    if (this.searchTerm) {\r\n      const term = this.searchTerm.toLowerCase();\r\n      result = result.filter(loan =>\r\n        loan.usuari?.nom?.toLowerCase().includes(term) ||\r\n        loan.llibre?.titol?.toLowerCase().includes(term) ||\r\n        loan.usuari?.email?.toLowerCase().includes(term)\r\n      );\r\n    }\r\n    \r\n    return result;\r\n  }\r\n\r\n  get activeCount(): number {\r\n    return this.loans.filter(l => l.estat === 'ACTIU').length;\r\n  }\r\n\r\n  get returnedCount(): number {\r\n    return this.loans.filter(l => l.estat === 'RETORNAT').length;\r\n  }\r\n\r\n  isOverdue(loan: any): boolean {\r\n    const returnDate = new Date(loan.dataRetornaPrevista);\r\n    const today = new Date();\r\n    return returnDate < today && loan.estat === 'ACTIU';\r\n  }\r\n\r\n  getStatusClass(loan: any): string {\r\n    if (this.isOverdue(loan)) return 'overdue';\r\n    return loan.estat === 'ACTIU' ? 'active' : 'returned';\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n}\r\n","<div class=\"admin-container\">\r\n  <div class=\"admin-header\">\r\n    <div class=\"header-content\">\r\n      <button class=\"btn-back\" (click)=\"goBack()\"> Tornar</button>\r\n      <h1> Gesti de Prstecs</h1>\r\n      <div class=\"stats\">\r\n        <span class=\"stat active\">{{ activeCount }} actius</span>\r\n        <span class=\"stat returned\">{{ returnedCount }} retornats</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Messages -->\r\n  <div *ngIf=\"successMessage\" class=\"toast success\"> {{ successMessage }}</div>\r\n  <div *ngIf=\"errorMessage\" class=\"toast error\"> {{ errorMessage }}</div>\r\n\r\n  <div class=\"content\">\r\n    <!-- Filters -->\r\n    <div class=\"filters-bar\">\r\n      <input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\" Cercar per usuari o llibre...\">\r\n      <select [(ngModel)]=\"filterStatus\">\r\n        <option value=\"all\">Tots els prstecs</option>\r\n        <option value=\"ACTIU\">Noms actius</option>\r\n        <option value=\"RETORNAT\">Noms retornats</option>\r\n      </select>\r\n      <span class=\"count\">{{ filteredLoans.length }} prstecs</span>\r\n    </div>\r\n\r\n    <!-- Loading -->\r\n    <div *ngIf=\"loading\" class=\"loading\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Carregant prstecs...</p>\r\n    </div>\r\n\r\n    <!-- Loans Table -->\r\n    <div *ngIf=\"!loading\" class=\"table-container\">\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Usuari</th>\r\n            <th>Llibre</th>\r\n            <th>Data Prstec</th>\r\n            <th>Data Retorn Prevista</th>\r\n            <th>Data Retorn Real</th>\r\n            <th>Estat</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let loan of filteredLoans\" [class]=\"getStatusClass(loan)\">\r\n            <td class=\"user-cell\">\r\n              <div class=\"user-mini\">\r\n                <span class=\"avatar\">{{ loan.usuari?.nom?.charAt(0)?.toUpperCase() || '?' }}</span>\r\n                <div>\r\n                  <strong>{{ loan.usuari?.nom || 'Usuari desconegut' }}</strong>\r\n                  <small>{{ loan.usuari?.email }}</small>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td class=\"book-cell\">\r\n              <strong>{{ loan.llibre?.titol || 'Llibre desconegut' }}</strong>\r\n              <small>{{ loan.llibre?.autor }}</small>\r\n            </td>\r\n            <td>{{ loan.dataPrestec | date: 'dd/MM/yyyy' }}</td>\r\n            <td>{{ loan.dataRetornaPrevista | date: 'dd/MM/yyyy' }}</td>\r\n            <td>{{ loan.dataRetornaReal ? (loan.dataRetornaReal | date: 'dd/MM/yyyy') : '-' }}</td>\r\n            <td>\r\n              <span class=\"status-badge\" [class]=\"getStatusClass(loan)\">\r\n                <span *ngIf=\"isOverdue(loan)\"> Endarrerit</span>\r\n                <span *ngIf=\"!isOverdue(loan) && loan.estat === 'ACTIU'\"> Actiu</span>\r\n                <span *ngIf=\"loan.estat === 'RETORNAT'\"> Retornat</span>\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div *ngIf=\"filteredLoans.length === 0\" class=\"no-results\">\r\n        No s'han trobat prstecs\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '@services/UserService';\r\n\r\n@Component({\r\n  selector: 'app-admin-users',\r\n  templateUrl: './admin-users.component.html',\r\n  styleUrl: './admin-users.component.css'\r\n})\r\nexport class AdminUsersComponent implements OnInit {\r\n  users: any[] = [];\r\n  loading: boolean = true;\r\n  searchTerm: string = '';\r\n  successMessage: string = '';\r\n  errorMessage: string = '';\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadUsers();\r\n  }\r\n\r\n  loadUsers(): void {\r\n    this.userService.getAllUsers().subscribe(\r\n      (users: any) => {\r\n        this.users = users || [];\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        this.errorMessage = 'Error carregant els usuaris';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  get filteredUsers(): any[] {\r\n    if (!this.searchTerm) return this.users;\r\n    const term = this.searchTerm.toLowerCase();\r\n    return this.users.filter(user =>\r\n      user.nom?.toLowerCase().includes(term) ||\r\n      user.email?.toLowerCase().includes(term)\r\n    );\r\n  }\r\n\r\n  getRoleBadgeClass(rol: string): string {\r\n    return rol === 'ADMIN' ? 'admin' : 'user';\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n}\r\n","<div class=\"admin-container\">\r\n  <div class=\"admin-header\">\r\n    <div class=\"header-content\">\r\n      <button class=\"btn-back\" (click)=\"goBack()\"> Tornar</button>\r\n      <h1> Gesti d'Usuaris</h1>\r\n      <div class=\"header-spacer\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Messages -->\r\n  <div *ngIf=\"successMessage\" class=\"toast success\"> {{ successMessage }}</div>\r\n  <div *ngIf=\"errorMessage\" class=\"toast error\"> {{ errorMessage }}</div>\r\n\r\n  <div class=\"content\">\r\n    <!-- Search -->\r\n    <div class=\"search-bar\">\r\n      <input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\" Cercar per nom o email...\">\r\n      <span class=\"count\">{{ filteredUsers.length }} usuaris</span>\r\n    </div>\r\n\r\n    <!-- Loading -->\r\n    <div *ngIf=\"loading\" class=\"loading\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Carregant usuaris...</p>\r\n    </div>\r\n\r\n    <!-- Users Grid -->\r\n    <div *ngIf=\"!loading\" class=\"users-grid\">\r\n      <div *ngFor=\"let user of filteredUsers\" class=\"user-card\">\r\n        <div class=\"user-avatar\">{{ user.nom?.charAt(0)?.toUpperCase() || '?' }}</div>\r\n        <div class=\"user-info\">\r\n          <h3>{{ user.nom }}</h3>\r\n          <p class=\"email\">{{ user.email }}</p>\r\n          <p class=\"details\">\r\n            <span *ngIf=\"user.telefon\"> {{ user.telefon }}</span>\r\n            <span *ngIf=\"!user.telefon\"> No indicat</span>\r\n          </p>\r\n          <p class=\"date\"> Registre: {{ user.createdAt | date: 'dd/MM/yyyy' }}</p>\r\n        </div>\r\n        <div class=\"user-role\" [class]=\"getRoleBadgeClass(user.rol)\">\r\n          {{ user.rol === 'ADMIN' ? ' Admin' : ' Usuari' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"!loading && filteredUsers.length === 0\" class=\"no-results\">\r\n      No s'han trobat usuaris\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BookService } from '@services/BookService';\r\nimport { LoanService } from '@services/LoanService';\r\nimport { LibraryService } from '@services/LibraryService';\r\n\r\n@Component({\r\n  selector: 'app-books',\r\n  templateUrl: './books.component.html',\r\n  styleUrls: ['./books.component.css']\r\n})\r\nexport class BooksComponent implements OnInit {\r\n  books: any[] = [];\r\n  filteredBooks: any[] = [];\r\n  libraries: any[] = [];\r\n  searchQuery: string = '';\r\n  loading: boolean = true;\r\n  isLoaning: boolean = false;\r\n  loaningBookId: string = '';\r\n  errorMessage: string = '';\r\n  successMessage: string = '';\r\n  defaultLibraryId: string = '';\r\n\r\n  constructor(\r\n    private bookService: BookService,\r\n    private loanService: LoanService,\r\n    private libraryService: LibraryService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadLibraries();\r\n    this.loadBooks();\r\n  }\r\n\r\n  loadLibraries(): void {\r\n    this.libraryService.getAllLibraries().subscribe(\r\n      (response: any) => {\r\n        this.libraries = response;\r\n        if (this.libraries.length > 0) {\r\n          this.defaultLibraryId = this.libraries[0]._id;\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant biblioteques', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  loadBooks(): void {\r\n    this.bookService.getAllBooks().subscribe(\r\n      (response: any) => {\r\n        this.books = response.books || response;\r\n        this.filteredBooks = this.books;\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant llibres', error);\r\n        this.errorMessage = error.error?.message || 'Error carregant els llibres';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  filterBooks(): void {\r\n    if (!this.searchQuery.trim()) {\r\n      this.filteredBooks = this.books;\r\n      return;\r\n    }\r\n\r\n    const query = this.searchQuery.toLowerCase();\r\n    this.filteredBooks = this.books.filter(book =>\r\n      book.titol.toLowerCase().includes(query) ||\r\n      book.autor.toLowerCase().includes(query)\r\n    );\r\n  }\r\n\r\n  borrowBook(bookId: string): void {\r\n    if (!this.defaultLibraryId) {\r\n      this.errorMessage = 'No hi ha cap biblioteca disponible';\r\n      return;\r\n    }\r\n\r\n    if (this.isLoaning) return; // Evitar doble click\r\n\r\n    this.isLoaning = true;\r\n    this.loaningBookId = bookId;\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    // Data de retorn: 14 dies des d'ara\r\n    const dataRetorn = new Date();\r\n    dataRetorn.setDate(dataRetorn.getDate() + 14);\r\n    const dataRetornStr = dataRetorn.toISOString();\r\n\r\n    this.loanService.createLoan(bookId, this.defaultLibraryId, dataRetornStr).subscribe({\r\n      next: (response: any) => {\r\n        this.isLoaning = false;\r\n        this.loaningBookId = '';\r\n        this.successMessage = 'Prstec solicitat correctament!';\r\n        // Actualitzar localment sense recarregar\r\n        const book = this.books.find(b => b._id === bookId);\r\n        if (book && book.quantitatDisponible > 0) {\r\n          book.quantitatDisponible -= 1;\r\n        }\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 4000);\r\n      },\r\n      error: (error: any) => {\r\n        this.isLoaning = false;\r\n        this.loaningBookId = '';\r\n        this.errorMessage = error.error?.message || 'Error solicitant el prstec';\r\n        // L'error desapareix desprs de 4 segons\r\n        setTimeout(() => {\r\n          this.errorMessage = '';\r\n        }, 4000);\r\n      }\r\n    });\r\n  }\r\n\r\n  goHome(): void {\r\n    this.router.navigate(['/home']);\r\n  }\r\n}\r\n","<div class=\"books-container\">\r\n  <div class=\"header\">\r\n    <h1>Catleg de Llibres</h1>\r\n    <button class=\"btn-back\" (click)=\"goHome()\">Tornar al Home</button>\r\n  </div>\r\n\r\n  <div class=\"search-section\">\r\n    <input\r\n      type=\"text\"\r\n      [(ngModel)]=\"searchQuery\"\r\n      placeholder=\"Buscar per ttol o autor...\"\r\n      class=\"search-input\"\r\n    />\r\n    <button class=\"btn-search\" (click)=\"filterBooks()\">Buscar</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\" class=\"loading\">\r\n    Carregant llibres...\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && filteredBooks.length === 0\" class=\"empty-state\">\r\n    <p>No s'han trobat llibres</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && filteredBooks.length > 0\" class=\"books-section\">\r\n    <div class=\"books-grid\">\r\n      <div *ngFor=\"let book of filteredBooks\" class=\"book-card\">\r\n        <div class=\"book-cover\">\r\n          <div class=\"cover-placeholder\">\r\n            \r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"book-info\">\r\n          <h3 class=\"book-title\">{{ book.titol }}</h3>\r\n          <p class=\"book-author\">{{ book.autor }}</p>\r\n          <p class=\"book-category\">{{ book.categoria }}</p>\r\n\r\n          <div class=\"book-details\">\r\n            <div class=\"detail\">\r\n              <span class=\"label\">ISBN:</span>\r\n              <span class=\"value\">{{ book.isbn }}</span>\r\n            </div>\r\n            <div class=\"detail\">\r\n              <span class=\"label\">Any:</span>\r\n              <span class=\"value\">{{ book.any }}</span>\r\n            </div>\r\n            <div class=\"detail\">\r\n              <span class=\"label\">Cpies Disponibles:</span>\r\n              <span class=\"value\" [ngClass]=\"book.quantitatDisponible === 0 ? 'no-available' : ''\">\r\n                {{ book.quantitatDisponible }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            class=\"btn-loan\"\r\n            (click)=\"borrowBook(book._id)\"\r\n            [disabled]=\"book.quantitatDisponible === 0 || loaningBookId === book._id\"\r\n          >\r\n            <span *ngIf=\"loaningBookId === book._id\">Solicitant...</span>\r\n            <span *ngIf=\"loaningBookId !== book._id && book.quantitatDisponible === 0\">No Disponible</span>\r\n            <span *ngIf=\"loaningBookId !== book._id && book.quantitatDisponible > 0\">Solicitar Prstec</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Toast per missatges -->\r\n  <div *ngIf=\"successMessage\" class=\"toast success-toast\">\r\n    <span class=\"toast-icon\"></span>\r\n    <span>{{ successMessage }}</span>\r\n  </div>\r\n\r\n  <div *ngIf=\"errorMessage\" class=\"toast error-toast\">\r\n    <span class=\"toast-icon\"></span>\r\n    <span>{{ errorMessage }}</span>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '@services/UserService';\r\nimport { LoanService } from '@services/LoanService';\r\nimport { BookService } from '@services/BookService';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  userName: string = '';\r\n  activeLoans: number = 0;\r\n  totalBooks: number = 0;\r\n  loading: boolean = true;\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private loanService: LoanService,\r\n    private bookService: BookService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadData();\r\n  }\r\n\r\n  loadData(): void {\r\n    // Obtenir perfil de l'usuari\r\n    this.userService.getProfile().subscribe(\r\n      (user: any) => {\r\n        this.userName = user.nom || 'Usuari';\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant perfil', error);\r\n      }\r\n    );\r\n\r\n    // Obtenir els meus prstecs actius\r\n    this.loanService.getMyLoansUser().subscribe(\r\n      (loans: any) => {\r\n        // Filtrar noms prstecs actius\r\n        const activeLoans = (loans || []).filter((loan: any) => loan.estat === 'ACTIU');\r\n        this.activeLoans = activeLoans.length;\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant prstecs', error);\r\n      }\r\n    );\r\n\r\n    // Obtenir tots els llibres\r\n    this.bookService.getAllBooks().subscribe(\r\n      (books: any) => {\r\n        this.totalBooks = books.length || 0;\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant llibres', error);\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  goToBooks(): void {\r\n    this.router.navigate(['/books']);\r\n  }\r\n\r\n  goToLoans(): void {\r\n    this.router.navigate(['/my-loans']);\r\n  }\r\n\r\n  goToProfile(): void {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n\r\n  logout(): void {\r\n    localStorage.removeItem('token');\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n","<div class=\"home-container\">\r\n  <div class=\"welcome-section\">\r\n    <h1>Benvingut {{ userName }}!</h1>\r\n    <p>Benvingut a la biblioteca digital</p>\r\n  </div>\r\n\r\n  <div class=\"stats-section\">\r\n    <div class=\"stat-card\">\r\n      <h3>Prstecs Actius</h3>\r\n      <p class=\"stat-number\">{{ activeLoans }}</p>\r\n    </div>\r\n    <div class=\"stat-card\">\r\n      <h3>Total Llibres</h3>\r\n      <p class=\"stat-number\">{{ totalBooks }}</p>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"actions-section\">\r\n    <h2>Accions</h2>\r\n    <div class=\"button-group\">\r\n      <button class=\"btn btn-primary\" (click)=\"goToBooks()\">\r\n        Veure tots els Llibres\r\n      </button>\r\n      <button class=\"btn btn-primary\" (click)=\"goToLoans()\">\r\n        Els Meus Prstecs\r\n      </button>\r\n      <button class=\"btn btn-primary\" (click)=\"goToProfile()\">\r\n        Veure el Meu Perfil\r\n      </button>\r\n      <button class=\"btn btn-danger\" (click)=\"logout()\">\r\n        Logout\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@services/AuthService';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  email: string = '';\r\n  password: string = '';\r\n  errorMessage: string = '';\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  login() {\r\n    if (!this.email || !this.password) {\r\n      this.errorMessage = 'Tots els camps sn obligatoris';\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.authService.login(this.email, this.password).subscribe(\r\n      (response: any) => {\r\n        this.loading = false;\r\n        // Guardar el token\r\n        localStorage.setItem('token', response.token);\r\n        // Redirigir a home\r\n        this.router.navigate(['/home']);\r\n      },\r\n      (error: any) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.error.message || 'Error en el login';\r\n      }\r\n    );\r\n  }\r\n\r\n  registerLink() {\r\n    this.router.navigate(['/register']);\r\n  }\r\n}\r\n","<div class=\"login-container\">\r\n  <div class=\"login-box\">\r\n    <h1>Login - Biblioteca</h1>\r\n\r\n    <div *ngIf=\"errorMessage\" class=\"error\">\r\n      {{ errorMessage }}\r\n    </div>\r\n\r\n    <form (ngSubmit)=\"login()\">\r\n      <div class=\"form-group\">\r\n        <label>Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          [(ngModel)]=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"email@example.com\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>Contrasenya:</label>\r\n        <input\r\n          type=\"password\"\r\n          [(ngModel)]=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Contrasenya\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\" [disabled]=\"loading\">\r\n        {{ loading ? 'Conectant...' : 'Login' }}\r\n      </button>\r\n    </form>\r\n\r\n    <p class=\"register-link\">\r\n      No tens compte?\r\n      <a (click)=\"registerLink()\" style=\"cursor: pointer; color: #3498db;\">\r\n        Registra't aqu\r\n      </a>\r\n    </p>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoanService } from '@services/LoanService';\r\n\r\n@Component({\r\n  selector: 'app-my-loans',\r\n  templateUrl: './my-loans.component.html',\r\n  styleUrls: ['./my-loans.component.css']\r\n})\r\nexport class MyLoansComponent implements OnInit {\r\n  loans: any[] = [];\r\n  loading: boolean = true;\r\n  isReturning: boolean = false;\r\n  returningLoanId: string = '';\r\n  errorMessage: string = '';\r\n  successMessage: string = '';\r\n\r\n  constructor(\r\n    private loanService: LoanService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadLoans();\r\n  }\r\n\r\n  loadLoans(): void {\r\n    this.loanService.getMyLoansUser().subscribe(\r\n      (response: any) => {\r\n        // Filtrar noms prstecs actius\r\n        this.loans = (response || []).filter((loan: any) => loan.estat === 'ACTIU');\r\n        this.loading = false;\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant prstecs', error);\r\n        this.errorMessage = error.error?.message || 'Error carregant els prstecs';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  returnLoan(loanId: string): void {\r\n    if (this.isReturning) return; // Evitar doble click\r\n    \r\n    this.isReturning = true;\r\n    this.returningLoanId = loanId;\r\n    this.errorMessage = '';\r\n    this.loanService.returnLoan(loanId).subscribe({\r\n      next: (response: any) => {\r\n        this.isReturning = false;\r\n        this.returningLoanId = '';\r\n        this.successMessage = 'Llibre retornat correctament!';\r\n        // Treure el prstec de la llista\r\n        this.loans = this.loans.filter(l => l._id !== loanId);\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 3000);\r\n      },\r\n      error: (error: any) => {\r\n        this.isReturning = false;\r\n        this.returningLoanId = '';\r\n        this.errorMessage = error.error?.message || 'Error retornant el llibre';\r\n      }\r\n    });\r\n  }\r\n\r\n  isOverdue(loan: any): boolean {\r\n    const returnDate = new Date(loan.dataRetornaPrevista);\r\n    const today = new Date();\r\n    return returnDate < today && loan.estat !== 'RETORNAT';\r\n  }\r\n\r\n  goHome(): void {\r\n    this.router.navigate(['/home']);\r\n  }\r\n}\r\n","<div class=\"my-loans-container\">\r\n  <div class=\"header\">\r\n    <h1>Els Meus Prstecs</h1>\r\n    <button class=\"btn-back\" (click)=\"goHome()\">Tornar al Home</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"loading\" class=\"loading\">\r\n    Carregant prstecs...\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && loans.length === 0\" class=\"empty-state\">\r\n    <p>No tens cap prstec actiu</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && loans.length > 0\" class=\"loans-section\">\r\n    <div class=\"loans-grid\">\r\n      <div *ngFor=\"let loan of loans\" class=\"loan-card\" [ngClass]=\"{'returned': loan.estat === 'RETORNAT'}\">\r\n        <div class=\"loan-header\">\r\n          <div class=\"book-emoji\"></div>\r\n          <h3>{{ loan.llibre?.titol }}</h3>\r\n        </div>\r\n\r\n        <div class=\"loan-details\">\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Autor:</span>\r\n            <span class=\"value\">{{ loan.llibre?.autor }}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Biblioteca:</span>\r\n            <span class=\"value\">{{ loan.biblioteca?.nom }}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Data de Prstec:</span>\r\n            <span class=\"value\">{{ loan.dataPrestec | date: 'dd/MM/yyyy' }}</span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Data de Devoluci:</span>\r\n            <span class=\"value\" [ngClass]=\"isOverdue(loan) ? 'overdue' : ''\">\r\n              {{ loan.dataRetornaPrevista | date: 'dd/MM/yyyy' }}\r\n            </span>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span class=\"label\">Estat:</span>\r\n            <span class=\"status\" [ngClass]=\"loan.estat\">\r\n              {{ loan.estat }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <button \r\n          class=\"btn-return\" \r\n          (click)=\"returnLoan(loan._id)\" \r\n          [disabled]=\"returningLoanId === loan._id\">\r\n          <span *ngIf=\"returningLoanId === loan._id\">Retornant...</span>\r\n          <span *ngIf=\"returningLoanId !== loan._id\">Retornar Llibre</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"successMessage\" class=\"success\">\r\n    {{ successMessage }}\r\n  </div>\r\n\r\n  <div *ngIf=\"errorMessage\" class=\"error\">\r\n    {{ errorMessage }}\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '@services/UserService';\r\nimport { BookService } from '@services/BookService';\r\nimport { LoanService } from '@services/LoanService';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  user: any = {};\r\n  editedUser: any = {};\r\n  editMode: boolean = false;\r\n  loading: boolean = true;\r\n  isSaving: boolean = false;\r\n  errorMessage: string = '';\r\n  successMessage: string = '';\r\n  \r\n  // Stats per admin\r\n  totalUsers: number = 0;\r\n  totalBooks: number = 0;\r\n  totalLoans: number = 0;\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private bookService: BookService,\r\n    private loanService: LoanService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadProfile();\r\n  }\r\n\r\n  loadProfile(): void {\r\n    this.userService.getProfile().subscribe(\r\n      (response: any) => {\r\n        this.user = response.user || response;\r\n        this.editedUser = { ...this.user };\r\n        this.loading = false;\r\n        \r\n        // Si s admin, carregar estadstiques\r\n        if (this.isAdmin()) {\r\n          this.loadAdminStats();\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.log('Error carregant perfil', error);\r\n        this.errorMessage = error.error?.message || 'Error carregant el perfil';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  loadAdminStats(): void {\r\n    // Carregar total usuaris\r\n    this.userService.getAllUsers().subscribe(\r\n      (users: any) => {\r\n        this.totalUsers = users?.length || 0;\r\n      },\r\n      (error: any) => console.log('Error carregant usuaris', error)\r\n    );\r\n\r\n    // Carregar total llibres\r\n    this.bookService.getAllBooks().subscribe(\r\n      (books: any) => {\r\n        this.totalBooks = books?.length || 0;\r\n      },\r\n      (error: any) => console.log('Error carregant llibres', error)\r\n    );\r\n\r\n    // Carregar prstecs actius\r\n    this.loanService.getAllLoans().subscribe(\r\n      (loans: any) => {\r\n        this.totalLoans = (loans || []).filter((l: any) => l.estat === 'ACTIU').length;\r\n      },\r\n      (error: any) => console.log('Error carregant prstecs', error)\r\n    );\r\n  }\r\n\r\n  isAdmin(): boolean {\r\n    return this.user?.rol === 'ADMIN';\r\n  }\r\n\r\n  getInitial(): string {\r\n    if (this.user?.nom) {\r\n      return this.user.nom.charAt(0).toUpperCase();\r\n    }\r\n    return '?';\r\n  }\r\n\r\n  toggleEditMode(): void {\r\n    this.editMode = !this.editMode;\r\n    if (!this.editMode) {\r\n      this.editedUser = { ...this.user };\r\n    }\r\n  }\r\n\r\n  saveProfile(): void {\r\n    if (!this.canSave()) {\r\n      this.errorMessage = 'El nom i email sn obligatoris';\r\n      return;\r\n    }\r\n\r\n    this.isSaving = true;\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    this.userService.updateProfile(this.editedUser).subscribe(\r\n      (response: any) => {\r\n        this.isSaving = false;\r\n        this.user = { ...this.editedUser };\r\n        this.editMode = false;\r\n        this.successMessage = 'Perfil actualitzat correctament!';\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 3000);\r\n      },\r\n      (error: any) => {\r\n        this.isSaving = false;\r\n        this.errorMessage = error.error.message || 'Error actualitzant el perfil';\r\n      }\r\n    );\r\n  }\r\n\r\n  canSave(): boolean {\r\n    return !!(this.editedUser.nom?.trim() && this.editedUser.email?.trim());\r\n  }\r\n\r\n  changePassword(): void {\r\n    const newPassword = prompt('Introdueix la nova contrasenya:');\r\n    if (!newPassword) return;\r\n\r\n    if (newPassword.length < 6) {\r\n      this.errorMessage = 'La contrasenya ha de tenir almenys 6 carcters';\r\n      return;\r\n    }\r\n\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    // Aqu hauries de cridar a un servei changePassword\r\n    // De moment, mostrem un missatge\r\n    this.successMessage = 'Contrasenya canviada correctament!';\r\n    setTimeout(() => {\r\n      this.successMessage = '';\r\n    }, 3000);\r\n  }\r\n\r\n  deleteAccount(): void {\r\n    const confirm = window.confirm(\r\n      'Ests segur que vols eliminar el teu compte? Aquesta acci no es pot desfer.'\r\n    );\r\n    if (!confirm) return;\r\n\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    // Aqu hauries de cridar a un servei deleteAccount\r\n    this.successMessage = 'Compte eliminat correctament';\r\n    setTimeout(() => {\r\n      localStorage.removeItem('token');\r\n      this.router.navigate(['/login']);\r\n    }, 2000);\r\n  }\r\n\r\n  goHome(): void {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  // Funcions d'Admin\r\n  goToManageBooks(): void {\r\n    this.router.navigate(['/admin/books']);\r\n  }\r\n\r\n  goToManageUsers(): void {\r\n    this.router.navigate(['/admin/users']);\r\n  }\r\n\r\n  goToManageLoans(): void {\r\n    this.router.navigate(['/admin/loans']);\r\n  }\r\n}\r\n","<div class=\"profile-container\">\r\n  <!-- Header amb gradient -->\r\n  <div class=\"profile-header\">\r\n    <div class=\"header-content\">\r\n      <button class=\"btn-back\" (click)=\"goHome()\">\r\n        <span class=\"back-icon\"></span> Tornar\r\n      </button>\r\n      <h1>El Meu Perfil</h1>\r\n      <div class=\"role-badge\" [class.admin]=\"isAdmin()\">\r\n        {{ isAdmin() ? ' Administrador' : ' Usuari' }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading -->\r\n  <div *ngIf=\"loading\" class=\"loading-container\">\r\n    <div class=\"spinner\"></div>\r\n    <p>Carregant perfil...</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading\" class=\"profile-content\">\r\n    <!-- Missatges -->\r\n    <div *ngIf=\"successMessage\" class=\"toast success\">\r\n      <span class=\"toast-icon\"></span>\r\n      {{ successMessage }}\r\n    </div>\r\n    <div *ngIf=\"errorMessage\" class=\"toast error\">\r\n      <span class=\"toast-icon\"></span>\r\n      {{ errorMessage }}\r\n    </div>\r\n\r\n    <!-- Targeta Principal del Perfil -->\r\n    <div class=\"main-card\">\r\n      <div class=\"avatar-section\">\r\n        <div class=\"avatar-wrapper\">\r\n          <div class=\"avatar-circle\">{{ getInitial() }}</div>\r\n          <div class=\"avatar-status\" [class.online]=\"true\"></div>\r\n        </div>\r\n        <h2 class=\"user-name\">{{ user.nom }}</h2>\r\n        <p class=\"user-email\">{{ user.email }}</p>\r\n      </div>\r\n\r\n      <!-- Informaci Personal -->\r\n      <div class=\"info-section\">\r\n        <h3 class=\"section-title\">\r\n          <span class=\"section-icon\"></span>\r\n          Informaci Personal\r\n        </h3>\r\n        \r\n        <div class=\"info-grid\">\r\n          <div class=\"info-card\">\r\n            <div class=\"info-label\">\r\n              <span class=\"label-icon\"></span>\r\n              Nom Complet\r\n            </div>\r\n            <div *ngIf=\"!editMode\" class=\"info-value\">{{ user.nom }}</div>\r\n            <input\r\n              *ngIf=\"editMode\"\r\n              type=\"text\"\r\n              [(ngModel)]=\"editedUser.nom\"\r\n              class=\"edit-input\"\r\n              [class.invalid]=\"!editedUser.nom?.trim()\"\r\n              placeholder=\"El nom s obligatori\"\r\n            />\r\n            <span *ngIf=\"editMode && !editedUser.nom?.trim()\" class=\"field-error\">Camp obligatori</span>\r\n          </div>\r\n\r\n          <div class=\"info-card\">\r\n            <div class=\"info-label\">\r\n              <span class=\"label-icon\"></span>\r\n              Correu Electrnic\r\n            </div>\r\n            <div *ngIf=\"!editMode\" class=\"info-value\">{{ user.email }}</div>\r\n            <input\r\n              *ngIf=\"editMode\"\r\n              type=\"email\"\r\n              [(ngModel)]=\"editedUser.email\"\r\n              class=\"edit-input\"\r\n              [class.invalid]=\"!editedUser.email?.trim()\"\r\n              placeholder=\"L'email s obligatori\"\r\n            />\r\n            <span *ngIf=\"editMode && !editedUser.email?.trim()\" class=\"field-error\">Camp obligatori</span>\r\n          </div>\r\n\r\n          <div class=\"info-card\">\r\n            <div class=\"info-label\">\r\n              <span class=\"label-icon\"></span>\r\n              Telfon\r\n            </div>\r\n            <div *ngIf=\"!editMode\" class=\"info-value\">{{ user.telefon || 'No indicat' }}</div>\r\n            <input\r\n              *ngIf=\"editMode\"\r\n              type=\"text\"\r\n              [(ngModel)]=\"editedUser.telefon\"\r\n              class=\"edit-input\"\r\n              placeholder=\"Telfon (opcional)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"info-card\">\r\n            <div class=\"info-label\">\r\n              <span class=\"label-icon\"></span>\r\n              Adrea\r\n            </div>\r\n            <div *ngIf=\"!editMode\" class=\"info-value\">{{ user.adreca || 'No indicada' }}</div>\r\n            <input\r\n              *ngIf=\"editMode\"\r\n              type=\"text\"\r\n              [(ngModel)]=\"editedUser.adreca\"\r\n              class=\"edit-input\"\r\n              placeholder=\"Adrea (opcional)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"info-card\">\r\n            <div class=\"info-label\">\r\n              <span class=\"label-icon\"></span>\r\n              Membre des de\r\n            </div>\r\n            <div class=\"info-value\">{{ user.createdAt | date: 'dd MMMM yyyy' }}</div>\r\n          </div>\r\n\r\n          <div class=\"info-card\">\r\n            <div class=\"info-label\">\r\n              <span class=\"label-icon\"></span>\r\n              Tipus de Compte\r\n            </div>\r\n            <div class=\"info-value role-value\" [class.admin]=\"isAdmin()\">\r\n              {{ isAdmin() ? 'Administrador' : 'Usuari Estndard' }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Accions del Perfil -->\r\n      <div class=\"actions-section\">\r\n        <h3 class=\"section-title\">\r\n          <span class=\"section-icon\"></span>\r\n          Accions del Compte\r\n        </h3>\r\n        \r\n        <div class=\"actions-grid\">\r\n          <button\r\n            *ngIf=\"!editMode\"\r\n            class=\"action-btn primary\"\r\n            (click)=\"toggleEditMode()\"\r\n          >\r\n            <span class=\"btn-icon\"></span>\r\n            Editar Perfil\r\n          </button>\r\n\r\n          <div *ngIf=\"editMode\" class=\"edit-actions\">\r\n            <button\r\n              class=\"action-btn success\"\r\n              (click)=\"saveProfile()\"\r\n              [disabled]=\"isSaving || !canSave()\"\r\n            >\r\n              <span class=\"btn-icon\"></span>\r\n              {{ isSaving ? 'Guardant...' : 'Guardar' }}\r\n            </button>\r\n            <button\r\n              class=\"action-btn secondary\"\r\n              (click)=\"toggleEditMode()\"\r\n              [disabled]=\"isSaving\"\r\n            >\r\n              <span class=\"btn-icon\"></span>\r\n              Cancellar\r\n            </button>\r\n          </div>\r\n\r\n          <button *ngIf=\"!editMode\" class=\"action-btn warning\" (click)=\"changePassword()\">\r\n            <span class=\"btn-icon\"></span>\r\n            Canviar Contrasenya\r\n          </button>\r\n\r\n          <button *ngIf=\"!editMode && !isAdmin()\" class=\"action-btn danger\" (click)=\"deleteAccount()\">\r\n            <span class=\"btn-icon\"></span>\r\n            Eliminar Compte\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Secci Admin -->\r\n    <div *ngIf=\"isAdmin()\" class=\"admin-section\">\r\n      <div class=\"admin-card\">\r\n        <div class=\"admin-header\">\r\n          <h3>\r\n            <span class=\"admin-icon\"></span>\r\n            Panel d'Administrador\r\n          </h3>\r\n          <p>Accs exclusiu per gestionar la biblioteca</p>\r\n        </div>\r\n        \r\n        <div class=\"admin-stats\">\r\n          <div class=\"stat-item\">\r\n            <span class=\"stat-number\">{{ totalUsers }}</span>\r\n            <span class=\"stat-label\">Usuaris</span>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <span class=\"stat-number\">{{ totalBooks }}</span>\r\n            <span class=\"stat-label\">Llibres</span>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <span class=\"stat-number\">{{ totalLoans }}</span>\r\n            <span class=\"stat-label\">Prstecs Actius</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"admin-actions\">\r\n          <button class=\"admin-btn\" (click)=\"goToManageBooks()\">\r\n            <span class=\"admin-btn-icon\"></span>\r\n            <span class=\"admin-btn-text\">Gestionar Llibres</span>\r\n            <span class=\"admin-btn-desc\">Afegir, editar o eliminar llibres</span>\r\n          </button>\r\n          \r\n          <button class=\"admin-btn\" (click)=\"goToManageUsers()\">\r\n            <span class=\"admin-btn-icon\"></span>\r\n            <span class=\"admin-btn-text\">Gestionar Usuaris</span>\r\n            <span class=\"admin-btn-desc\">Veure i administrar usuaris</span>\r\n          </button>\r\n          \r\n          <button class=\"admin-btn\" (click)=\"goToManageLoans()\">\r\n            <span class=\"admin-btn-icon\"></span>\r\n            <span class=\"admin-btn-text\">Gestionar Prstecs</span>\r\n            <span class=\"admin-btn-desc\">Veure tots els prstecs</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@services/AuthService';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent {\r\n  name: string = '';\r\n  email: string = '';\r\n  password: string = '';\r\n  confirmPassword: string = '';\r\n  errorMessage: string = '';\r\n  successMessage: string = '';\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  register() {\r\n    // Validar camps buits\r\n    if (!this.name || !this.email || !this.password || !this.confirmPassword) {\r\n      this.errorMessage = 'Tots els camps sn obligatoris';\r\n      return;\r\n    }\r\n\r\n    // Validar que les contrasenyes coincideixen\r\n    if (this.password !== this.confirmPassword) {\r\n      this.errorMessage = 'Les contrasenyes no coincideixen';\r\n      return;\r\n    }\r\n\r\n    // Validar longitud de contrasenya\r\n    if (this.password.length < 6) {\r\n      this.errorMessage = 'La contrasenya ha de tenir almenys 6 carcters';\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    const newUser = {\r\n      name: this.name,\r\n      email: this.email,\r\n      password: this.password\r\n    };\r\n\r\n    this.authService.register(newUser).subscribe(\r\n      (response: any) => {\r\n        this.loading = false;\r\n        this.successMessage = 'Registre exits! Redirigint al login...';\r\n        setTimeout(() => {\r\n          this.router.navigate(['/login']);\r\n        }, 2000);\r\n      },\r\n      (error: any) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.error.message || 'Error en el registre';\r\n      }\r\n    );\r\n  }\r\n\r\n  loginLink() {\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n","<div class=\"register-container\">\r\n  <div class=\"register-box\">\r\n    <h1>Registre - Biblioteca</h1>\r\n\r\n    <div *ngIf=\"errorMessage\" class=\"error\">\r\n      {{ errorMessage }}\r\n    </div>\r\n\r\n    <div *ngIf=\"successMessage\" class=\"success\">\r\n      {{ successMessage }}\r\n    </div>\r\n\r\n    <form (ngSubmit)=\"register()\">\r\n      <div class=\"form-group\">\r\n        <label>Nom Complet:</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)]=\"name\"\r\n          name=\"name\"\r\n          placeholder=\"Joan Perez\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          [(ngModel)]=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"email@example.com\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>Contrasenya:</label>\r\n        <input\r\n          type=\"password\"\r\n          [(ngModel)]=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Contrasenya\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>Repetir Contrasenya:</label>\r\n        <input\r\n          type=\"password\"\r\n          [(ngModel)]=\"confirmPassword\"\r\n          name=\"confirmPassword\"\r\n          placeholder=\"Repetir contrasenya\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\" [disabled]=\"loading\">\r\n        {{ loading ? 'Registrant...' : 'Registrar-se' }}\r\n      </button>\r\n    </form>\r\n\r\n    <p class=\"login-link\">\r\n      Ja tens compte?\r\n      <a (click)=\"loginLink()\" style=\"cursor: pointer; color: #3498db;\">\r\n        Login aqui\r\n      </a>\r\n    </p>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from '@services/AuthService';\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  constructor(private authService: AuthService) {}\r\n\r\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\r\n    const token = this.authService.getToken();\r\n    \r\n    if (token) {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n    }\r\n    \r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  private apiUrl = 'http://localhost:5000/api/users';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  login(email: string, password: string): Observable<any> {\r\n    return this.http.post(`${this.apiUrl}/login`, { email, password });\r\n  }\r\n\r\n  register(user: any): Observable<any> {\r\n    return this.http.post(`${this.apiUrl}/register`, user);\r\n  }\r\n\r\n  logout(): void {\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  getToken(): string | null {\r\n    return localStorage.getItem('token');\r\n  }\r\n\r\n  isAuthenticated(): boolean {\r\n    return !!this.getToken();\r\n  }\r\n\r\n  saveToken(token: string): void {\r\n    localStorage.setItem('token', token);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BookService {\r\n  private apiUrl = 'http://localhost:5000/api/books';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getAllBooks(): Observable<any> {\r\n    return this.http.get(this.apiUrl);\r\n  }\r\n\r\n  getBookById(id: string): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  searchBooks(query: string): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/search?query=${query}`);\r\n  }\r\n\r\n  // Admin functions\r\n  createBook(book: any): Observable<any> {\r\n    return this.http.post(this.apiUrl, book);\r\n  }\r\n\r\n  updateBook(id: string, book: any): Observable<any> {\r\n    return this.http.put(`${this.apiUrl}/${id}`, book);\r\n  }\r\n\r\n  deleteBook(id: string): Observable<any> {\r\n    return this.http.delete(`${this.apiUrl}/${id}`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LibraryService {\r\n  private apiUrl = 'http://localhost:5000/api/libraries';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getAllLibraries(): Observable<any> {\r\n    return this.http.get(this.apiUrl);\r\n  }\r\n\r\n  getLibraryById(id: string): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  getLibraryBooks(libraryId: string): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/${libraryId}/books`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoanService {\r\n  private apiUrl = 'http://localhost:5000/api/loans';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getMyLoans(): Observable<any> {\r\n    return this.http.get(this.apiUrl);\r\n  }\r\n\r\n  getLoanById(id: string): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  createLoan(llibreId: string, bibliotecaId: string, dataRetornaPrevista: string): Observable<any> {\r\n    return this.http.post(this.apiUrl, { llibreId, bibliotecaId, dataRetornaPrevista });\r\n  }\r\n\r\n  getMyLoansUser(): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/user/me`);\r\n  }\r\n\r\n  returnLoan(loanId: string): Observable<any> {\r\n    return this.http.post(`${this.apiUrl}/${loanId}/return`, {});\r\n  }\r\n\r\n  renewLoan(loanId: string): Observable<any> {\r\n    return this.http.put(`${this.apiUrl}/${loanId}/renew`, {});\r\n  }\r\n\r\n  // Funci d'Admin - Obtenir tots els prstecs\r\n  getAllLoans(): Observable<any> {\r\n    return this.http.get(this.apiUrl);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  private apiUrl = 'http://localhost:5000/api/users';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getProfile(): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/profile`);\r\n  }\r\n\r\n  updateProfile(user: any): Observable<any> {\r\n    return this.http.put(`${this.apiUrl}/profile`, user);\r\n  }\r\n\r\n  changePassword(currentPassword: string, newPassword: string): Observable<any> {\r\n    return this.http.post(`${this.apiUrl}/change-password`, {\r\n      currentPassword,\r\n      newPassword\r\n    });\r\n  }\r\n\r\n  deleteAccount(): Observable<any> {\r\n    return this.http.delete(`${this.apiUrl}/profile`);\r\n  }\r\n\r\n  // Funcions d'Admin\r\n  getAllUsers(): Observable<any> {\r\n    return this.http.get(this.apiUrl);\r\n  }\r\n\r\n  getUserById(id: string): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/${id}`);\r\n  }\r\n}\r\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { AppModule } from './app/app.module';\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["RouterModule","LoginComponent","RegisterComponent","HomeComponent","BooksComponent","ProfileComponent","MyLoansComponent","AdminBooksComponent","AdminUsersComponent","AdminLoansComponent","routes","path","redirectTo","pathMatch","component","AppRoutingModule","forRoot","imports","i1","exports","i0","elementContainerStart","elementStart","text","elementEnd","listener","AppComponent_ng_container_6_Template_a_click_14_listener","restoreView","_r1","ctx_r1","nextContext","resetView","logout","AppComponent","constructor","authService","router","title","isLoggedIn","isAuthenticated","navigate","directiveInject","AuthService","i2","Router","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","template","AppComponent_ng_container_5_Template","AppComponent_ng_container_6_Template","element","advance","textInterpolate","property","BrowserModule","HttpClientModule","HTTP_INTERCEPTORS","FormsModule","BookService","LibraryService","LoanService","UserService","AuthInterceptor","AppModule","bootstrap","provide","useClass","multi","declarations","textInterpolate1","ctx_r0","successMessage","errorMessage","AdminBooksComponent_div_17_tr_19_Template_button_click_16_listener","book_r3","_r2","$implicit","openEditModal","AdminBooksComponent_div_17_tr_19_Template_button_click_18_listener","deleteBook","titol","autor","isbn","categoria","any","classProp","quantitatDisponible","textInterpolate2","quantitatTotal","AdminBooksComponent_div_17_tr_19_Template","AdminBooksComponent_div_17_div_20_Template","filteredBooks","length","cat_r5","AdminBooksComponent_div_18_Template_div_click_0_listener","_r4","closeModal","AdminBooksComponent_div_18_Template_div_click_1_listener","$event","stopPropagation","AdminBooksComponent_div_18_Template_button_click_5_listener","AdminBooksComponent_div_18_div_8_Template","twoWayListener","AdminBooksComponent_div_18_Template_input_ngModelChange_13_listener","twoWayBindingSet","bookForm","AdminBooksComponent_div_18_Template_input_ngModelChange_17_listener","AdminBooksComponent_div_18_Template_input_ngModelChange_22_listener","AdminBooksComponent_div_18_Template_select_ngModelChange_26_listener","AdminBooksComponent_div_18_option_29_Template","AdminBooksComponent_div_18_Template_input_ngModelChange_34_listener","AdminBooksComponent_div_18_Template_input_ngModelChange_38_listener","AdminBooksComponent_div_18_Template_input_ngModelChange_42_listener","AdminBooksComponent_div_18_Template_textarea_ngModelChange_46_listener","descripcio","AdminBooksComponent_div_18_Template_button_click_48_listener","AdminBooksComponent_div_18_Template_button_click_50_listener","saveBook","editingBook","twoWayProperty","categories","isSaving","bookService","books","loading","showModal","Date","getFullYear","searchTerm","ngOnInit","loadBooks","getAllBooks","subscribe","error","term","toLowerCase","filter","book","includes","openCreateModal","updateBook","_id","response","setTimeout","message","createBook","confirm","goBack","AdminBooksComponent_Template","AdminBooksComponent_Template_button_click_3_listener","AdminBooksComponent_Template_button_click_7_listener","AdminBooksComponent_div_9_Template","AdminBooksComponent_div_10_Template","AdminBooksComponent_Template_input_ngModelChange_13_listener","AdminBooksComponent_div_16_Template","AdminBooksComponent_div_17_Template","AdminBooksComponent_div_18_Template","AdminLoansComponent_div_27_tr_17_span_26_Template","AdminLoansComponent_div_27_tr_17_span_27_Template","AdminLoansComponent_div_27_tr_17_span_28_Template","classMap","getStatusClass","loan_r2","usuari","nom","tmp_4_0","charAt","toUpperCase","email","llibre","pipeBind2","dataPrestec","dataRetornaPrevista","dataRetornaReal","isOverdue","estat","AdminLoansComponent_div_27_tr_17_Template","AdminLoansComponent_div_27_div_18_Template","filteredLoans","loanService","loans","filterStatus","loadLoans","getAllLoans","result","loan","activeCount","l","returnedCount","returnDate","today","AdminLoansComponent_Template","AdminLoansComponent_Template_button_click_3_listener","AdminLoansComponent_div_12_Template","AdminLoansComponent_div_13_Template","AdminLoansComponent_Template_input_ngModelChange_16_listener","AdminLoansComponent_Template_select_ngModelChange_17_listener","AdminLoansComponent_div_26_Template","AdminLoansComponent_div_27_Template","user_r2","telefon","AdminUsersComponent_div_16_div_1_span_9_Template","AdminUsersComponent_div_16_div_1_span_10_Template","tmp_3_0","createdAt","getRoleBadgeClass","rol","AdminUsersComponent_div_16_div_1_Template","filteredUsers","userService","users","loadUsers","getAllUsers","user","AdminUsersComponent_Template","AdminUsersComponent_Template_button_click_3_listener","AdminUsersComponent_div_8_Template","AdminUsersComponent_div_9_Template","AdminUsersComponent_Template_input_ngModelChange_12_listener","AdminUsersComponent_div_15_Template","AdminUsersComponent_div_16_Template","AdminUsersComponent_div_17_Template","BooksComponent_div_12_div_2_Template_button_click_27_listener","book_r2","ctx_r2","borrowBook","BooksComponent_div_12_div_2_span_28_Template","BooksComponent_div_12_div_2_span_29_Template","BooksComponent_div_12_div_2_span_30_Template","loaningBookId","BooksComponent_div_12_div_2_Template","libraryService","libraries","searchQuery","isLoaning","defaultLibraryId","loadLibraries","getAllLibraries","console","log","filterBooks","trim","query","bookId","dataRetorn","setDate","getDate","dataRetornStr","toISOString","createLoan","next","find","b","goHome","i3","i4","BooksComponent_Template","BooksComponent_Template_button_click_4_listener","BooksComponent_Template_input_ngModelChange_7_listener","BooksComponent_Template_button_click_8_listener","BooksComponent_div_10_Template","BooksComponent_div_11_Template","BooksComponent_div_12_Template","BooksComponent_div_13_Template","BooksComponent_div_14_Template","userName","activeLoans","totalBooks","loadData","getProfile","getMyLoansUser","goToBooks","goToLoans","goToProfile","localStorage","removeItem","HomeComponent_Template","HomeComponent_Template_button_click_21_listener","HomeComponent_Template_button_click_23_listener","HomeComponent_Template_button_click_25_listener","HomeComponent_Template_button_click_27_listener","password","login","setItem","token","registerLink","LoginComponent_Template","LoginComponent_div_4_Template","LoginComponent_Template_form_ngSubmit_5_listener","LoginComponent_Template_input_ngModelChange_9_listener","LoginComponent_Template_input_ngModelChange_13_listener","LoginComponent_Template_a_click_18_listener","MyLoansComponent_div_8_div_2_Template_button_click_34_listener","returnLoan","MyLoansComponent_div_8_div_2_span_35_Template","MyLoansComponent_div_8_div_2_span_36_Template","pureFunction1","_c0","biblioteca","returningLoanId","MyLoansComponent_div_8_div_2_Template","isReturning","loanId","MyLoansComponent_Template","MyLoansComponent_Template_button_click_4_listener","MyLoansComponent_div_6_Template","MyLoansComponent_div_7_Template","MyLoansComponent_div_8_Template","MyLoansComponent_div_9_Template","MyLoansComponent_div_10_Template","ProfileComponent_div_12_input_25_Template_input_ngModelChange_0_listener","editedUser","ProfileComponent_div_12_input_33_Template_input_ngModelChange_0_listener","_r3","ProfileComponent_div_12_input_41_Template_input_ngModelChange_0_listener","adreca","ProfileComponent_div_12_input_48_Template_input_ngModelChange_0_listener","_r5","ProfileComponent_div_12_button_70_Template_button_click_0_listener","_r6","toggleEditMode","ProfileComponent_div_12_div_71_Template_button_click_1_listener","_r7","saveProfile","ProfileComponent_div_12_div_71_Template_button_click_5_listener","canSave","ProfileComponent_div_12_button_72_Template_button_click_0_listener","_r8","changePassword","ProfileComponent_div_12_button_73_Template_button_click_0_listener","_r9","deleteAccount","ProfileComponent_div_12_div_74_Template_button_click_26_listener","_r10","goToManageBooks","ProfileComponent_div_12_div_74_Template_button_click_33_listener","goToManageUsers","ProfileComponent_div_12_div_74_Template_button_click_40_listener","goToManageLoans","totalUsers","totalLoans","ProfileComponent_div_12_div_1_Template","ProfileComponent_div_12_div_2_Template","ProfileComponent_div_12_div_24_Template","ProfileComponent_div_12_input_25_Template","ProfileComponent_div_12_span_26_Template","ProfileComponent_div_12_div_32_Template","ProfileComponent_div_12_input_33_Template","ProfileComponent_div_12_span_34_Template","ProfileComponent_div_12_div_40_Template","ProfileComponent_div_12_input_41_Template","ProfileComponent_div_12_div_47_Template","ProfileComponent_div_12_input_48_Template","ProfileComponent_div_12_button_70_Template","ProfileComponent_div_12_div_71_Template","ProfileComponent_div_12_button_72_Template","ProfileComponent_div_12_button_73_Template","ProfileComponent_div_12_div_74_Template","getInitial","editMode","isAdmin","loadProfile","loadAdminStats","updateProfile","newPassword","prompt","window","ProfileComponent_Template","ProfileComponent_Template_button_click_3_listener","ProfileComponent_div_11_Template","ProfileComponent_div_12_Template","name","confirmPassword","register","newUser","loginLink","RegisterComponent_Template","RegisterComponent_div_4_Template","RegisterComponent_div_5_Template","RegisterComponent_Template_form_ngSubmit_6_listener","RegisterComponent_Template_input_ngModelChange_10_listener","RegisterComponent_Template_input_ngModelChange_14_listener","RegisterComponent_Template_input_ngModelChange_18_listener","RegisterComponent_Template_input_ngModelChange_22_listener","RegisterComponent_Template_a_click_27_listener","intercept","request","getToken","clone","setHeaders","Authorization","handle","inject","factory","fac","http","apiUrl","post","getItem","saveToken","HttpClient","providedIn","get","getBookById","id","searchBooks","put","delete","getLibraryById","getLibraryBooks","libraryId","getMyLoans","getLoanById","llibreId","bibliotecaId","renewLoan","currentPassword","getUserById","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}